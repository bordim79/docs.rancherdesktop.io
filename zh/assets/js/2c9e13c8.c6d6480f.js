"use strict";(self.webpackChunkdocs_rancherdesktop_io=self.webpackChunkdocs_rancherdesktop_io||[]).push([[8531],{53527:function(e,n,i){i.r(n),i.d(n,{assets:function(){return l},contentTitle:function(){return r},default:function(){return u},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return c}});var t=i(85893),a=i(11151);i(93687);const o={title:"\u589e\u52a0\u6253\u5f00\u6587\u4ef6\u9650\u5236"},r=void 0,s={id:"how-to-guides/increasing-open-file-limit",title:"\u589e\u52a0\u6253\u5f00\u6587\u4ef6\u9650\u5236",description:"\u7531\u4e8e Rancher Desktop \u4e3a Pod \u8bbe\u7f6e\u7684\u9ed8\u8ba4 ulimit \u53ef\u80fd\u592a\u4f4e\uff0c\u56e0\u6b64\u4f60\u53ef\u80fd\u60f3\u589e\u52a0\u6253\u5f00\u6587\u4ef6\u7684\u9650\u5236\u3002\u672c\u6307\u5357\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528\u914d\u7f6e\u811a\u672c\u548c Rancher Desktop \u5185\u90e8\u8fdb\u7a0b\u6765\u589e\u52a0\u6253\u5f00\u6587\u4ef6\u9650\u5236\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/version-latest/how-to-guides/increasing-open-file-limit.md",sourceDirName:"how-to-guides",slug:"/how-to-guides/increasing-open-file-limit",permalink:"/zh/how-to-guides/increasing-open-file-limit",draft:!1,unlisted:!1,editUrl:"https://github.com/rancher-sandbox/docs.rancherdesktop.io/edit/main/versioned_docs/version-latest/how-to-guides/increasing-open-file-limit.md",tags:[],version:"latest",frontMatter:{title:"\u589e\u52a0\u6253\u5f00\u6587\u4ef6\u9650\u5236"},sidebar:"tutorialSidebar",previous:{title:"\u914d\u7f6e\u811a\u672c",permalink:"/zh/how-to-guides/provisioning-scripts"},next:{title:"\u79bb\u7ebf\u8fd0\u884c",permalink:"/zh/how-to-guides/running-air-gapped"}},l={},c=[{value:"macOS &amp; Linux \u6b65\u9aa4",id:"macos--linux-\u6b65\u9aa4",level:2},{value:"Windows \u6b65\u9aa4",id:"windows-\u6b65\u9aa4",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components},{TabItem:i,Tabs:o}=n;return i||p("TabItem",!0),o||p("Tabs",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["\u7531\u4e8e Rancher Desktop \u4e3a Pod \u8bbe\u7f6e\u7684\u9ed8\u8ba4 ",(0,t.jsx)(n.code,{children:"ulimit"})," \u53ef\u80fd\u592a\u4f4e\uff0c\u56e0\u6b64\u4f60\u53ef\u80fd\u60f3\u589e\u52a0\u6253\u5f00\u6587\u4ef6\u7684\u9650\u5236\u3002\u672c\u6307\u5357\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528\u914d\u7f6e\u811a\u672c\u548c Rancher Desktop \u5185\u90e8\u8fdb\u7a0b\u6765\u589e\u52a0\u6253\u5f00\u6587\u4ef6\u9650\u5236\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"macos--linux-\u6b65\u9aa4",children:"macOS & Linux \u6b65\u9aa4"}),"\n",(0,t.jsx)(n.p,{children:"\u9996\u5148\uff0c\u4f7f\u7528 lima override.yaml \u7f16\u5199\u914d\u7f6e\u811a\u672c\u3002"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u5728\u4ee5\u4e0b\u8def\u5f84\u521b\u5efa ",(0,t.jsx)(n.code,{children:"override.yaml"})," \u6587\u4ef6\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(o,{groupId:"os",children:[(0,t.jsx)(i,{value:"macOS",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"~/Library/Application Support/rancher-desktop/lima/_config/override.yaml\n"})})}),(0,t.jsx)(i,{value:"Linux",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"~/.local/share/rancher-desktop/lima/_config/override.yaml\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u811a\u672c\u4e3a ",(0,t.jsx)(n.code,{children:"override.yaml"})," \u6587\u4ef6\u4e2d\u7684\u5bb9\u5668\u589e\u52a0 ",(0,t.jsx)(n.code,{children:"ulimit"}),"\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"provision:\n- mode: system\n  script: |\n    #!/bin/sh\n    cat <<'EOF' > /etc/security/limits.d/rancher-desktop.conf\n    * soft     nofile         82920\n    * hard     nofile         82920\n    EOF\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u4f7f\u7528 Elastic \u5e73\u53f0\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684\u811a\u672c\u8bbe\u7f6e ",(0,t.jsx)(n.code,{children:"vm.max_map_count"})," \u53c2\u6570\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"provision:\n- mode: system\n  script: |\n    #!/bin/sh\n    cat <<'EOF' > /etc/security/limits.d/rancher-desktop.conf\n    * soft     nofile         82920\n    * hard     nofile         82920\n    EOF\n    sysctl -w vm.max_map_count=262144\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6700\u540e\uff0c\u505c\u6b62\u5e76\u91cd\u542f Rancher Desktop \u6765\u8ba9\u65b0\u7684\u9650\u5236\u751f\u6548\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"windows-\u6b65\u9aa4",children:"Windows \u6b65\u9aa4"}),"\n",(0,t.jsx)(n.p,{children:"\u9996\u5148\uff0c\u786e\u4fdd Rancher Desktop \u81f3\u5c11\u8fd0\u884c\u8fc7\u4e00\u6b21\u6765\u521d\u59cb\u5316\u914d\u7f6e\u3002"}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\uff0c\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u5728 ",(0,t.jsx)(n.code,{children:"%AppData%\\rancher-desktop\\provisioning"})," \u4e2d\u521b\u5efa\u4e00\u4e2a\u914d\u7f6e\u811a\u672c\uff0c\u6bd4\u5982 ",(0,t.jsx)(n.code,{children:"map_count.start"}),"\uff0c\u8fd9\u6837\u80fd\u901a\u8fc7\u589e\u52a0 ",(0,t.jsx)(n.code,{children:"max_map_count"})," \u53c2\u6570\u7684\u503c\u6765\u66f4\u65b0\u6253\u5f00\u6587\u4ef6\u7684\u9650\u5236\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"#!/bin/sh\n\nsysctl -w vm.max_map_count=262144\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6700\u540e\uff0c\u505c\u6b62\u5e76\u91cd\u542f Rancher Desktop \u6765\u8ba9\u53d8\u66f4\u751f\u6548\u3002"})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},93687:function(e,n,i){var t=i(10412);const a=!!t.Z.canUseDOM&&navigator.platform.startsWith("Mac"),o=!!t.Z.canUseDOM&&navigator.platform.startsWith("Win"),r=a?"ios":"android",s=a?"macOS":o?"Windows":"Linux";n.Z={defaultGuide:"quickstart",defaultOs:s,defaultPackageManager:"npm",defaultPlatform:r,defaultSyntax:"functional",defaultAndroidLanguage:"java",defaultJavaScriptSpecLanguages:"typescript",getDevNotesTabs:function(e){return void 0===e&&(e=["android","ios","web","windows"]),[e.includes("android")?{label:"Android",value:"android"}:void 0,e.includes("ios")?{label:"iOS",value:"ios"}:void 0,e.includes("web")?{label:"Web",value:"web"}:void 0,e.includes("windows")?{label:"Windows",value:"windows"}:void 0].filter(Boolean)},guides:[{label:"Expo Go Quickstart",value:"quickstart"},{label:"React Native CLI Quickstart",value:"native"}],oses:[{label:"macOS",value:"macOS"},{label:"Windows",value:"Windows"},{label:"Linux",value:"Linux"}],packageManagers:[{label:"npm",value:"npm"},{label:"Yarn",value:"yarn"}],platforms:[{label:"Android",value:"android"},{label:"iOS",value:"ios"}],syntax:[{label:"Function Component",value:"functional"},{label:"Class Component",value:"classical"}],androidLanguages:[{label:"Java",value:"java"},{label:"Kotlin",value:"kotlin"}],javaScriptSpecLanguages:[{label:"TypeScript",value:"typescript"},{label:"Flow",value:"flow"}],snackLanguages:[{label:"TypeScript",value:"typescript"},{label:"JavaScript",value:"javascript"}],defaultSnackLanguage:"typescript"}},11151:function(e,n,i){i.d(n,{Z:function(){return s},a:function(){return r}});var t=i(67294);const a={},o=t.createContext(a);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);