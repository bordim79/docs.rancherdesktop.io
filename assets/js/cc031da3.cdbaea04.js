"use strict";(self.webpackChunkdocs_rancherdesktop_io=self.webpackChunkdocs_rancherdesktop_io||[]).push([[41890],{7433:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return i},default:function(){return u},frontMatter:function(){return o},metadata:function(){return c},toc:function(){return d}});var s=n(85893),r=n(11151);const o={title:"Create a Multi-Node Cluster with k3d"},i=void 0,c={id:"how-to-guides/create-multi-node-cluster",title:"Create a Multi-Node Cluster with k3d",description:"Rancher Desktop provides a single cluster with single node setup, which is adequate for most local development scenarios. However, there are use cases where, the ability to create a multi node cluster or spin up multiple clusters with flexibilty to switch between clusters is required. Eventhough Rancher Desktop doesn't have in-built multi node/cluster functionality, you can use k3d with Rancher Desktop to accomplish the same. k3d is a lightweight wrapper to run k3s (a minimal Kubernetes distribution, which is used by Rancher Desktop as well) in docker. k3d makes it very easy to create single- and multi-node k3s clusters in docker, e.g. for local development on Kubernetes.",source:"@site/versioned_docs/version-1.10/how-to-guides/create-multi-node-cluster.md",sourceDirName:"how-to-guides",slug:"/how-to-guides/create-multi-node-cluster",permalink:"/1.10/how-to-guides/create-multi-node-cluster",draft:!1,unlisted:!1,editUrl:"https://github.com/rancher-sandbox/docs.rancherdesktop.io/edit/main/versioned_docs/version-1.10/how-to-guides/create-multi-node-cluster.md",tags:[],version:"1.10",frontMatter:{title:"Create a Multi-Node Cluster with k3d"},sidebar:"tutorialSidebar",previous:{title:"Transfer Container Images",permalink:"/1.10/how-to-guides/transfer-container-images"},next:{title:"Setup NGINX Ingress Controller",permalink:"/1.10/how-to-guides/setup-NGINX-Ingress-Controller"}},l={},d=[{value:"Steps to spin up a multi-node cluster",id:"steps-to-spin-up-a-multi-node-cluster",level:3}];function a(e){const t={a:"a",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components},{Head:n,TabItem:o,Tabs:i}=t;return n||h("Head",!0),o||h("TabItem",!0),i||h("Tabs",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n,{children:(0,s.jsx)("link",{rel:"canonical",href:"https://docs.rancherdesktop.io/how-to-guides/create-multi-node-cluster"})}),"\n",(0,s.jsxs)(t.p,{children:["Rancher Desktop provides a ",(0,s.jsx)(t.strong,{children:"single cluster with single node"})," setup, which is adequate for most local development scenarios. However, there are use cases where, the ability to create a multi node cluster or spin up multiple clusters with flexibilty to switch between clusters is required. Eventhough Rancher Desktop doesn't have in-built multi node/cluster functionality, you can use ",(0,s.jsx)(t.a,{href:"https://k3d.io",children:"k3d"})," with Rancher Desktop to accomplish the same. k3d is a lightweight wrapper to run k3s (a minimal Kubernetes distribution, which is used by Rancher Desktop as well) in docker. k3d makes it very easy to create single- and multi-node k3s clusters in docker, e.g. for local development on Kubernetes."]}),"\n",(0,s.jsx)(t.h3,{id:"steps-to-spin-up-a-multi-node-cluster",children:"Steps to spin up a multi-node cluster"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Make sure ",(0,s.jsx)(t.strong,{children:"dockerd(moby)"})," is selected as the Container Runtime in the ",(0,s.jsx)(t.strong,{children:"Kubernetes Settings"})," page."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Install k3d."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i,{groupId:"installation-approach",children:[(0,s.jsx)(o,{value:"wget",default:!0,children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"wget -q -O - https://raw.githubusercontent.com/k3d-io/k3d/main/install.sh | bash\n"})})}),(0,s.jsx)(o,{value:"curl",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"curl -s https://raw.githubusercontent.com/k3d-io/k3d/main/install.sh | bash\n"})})})]}),"\n",(0,s.jsxs)(t.ol,{start:"3",children:["\n",(0,s.jsxs)(t.li,{children:["Run ",(0,s.jsx)(t.code,{children:"k3d cluster create"})," command to spin up multi node clusters. For example:"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"k3d cluster create two-node-cluster --agents 2\nk3d cluster create three-node-cluster --agents 3\n"})}),"\n",(0,s.jsxs)(t.ol,{start:"4",children:["\n",(0,s.jsxs)(t.li,{children:["k3d sets the newly created cluster as active. You can switch between clusters via ",(0,s.jsx)(t.code,{children:"kubectl config use-context"})," command. For example:"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"kubectl config use-context k3d-two-node-cluster\n"})}),"\n",(0,s.jsxs)(t.p,{children:["To learn more about ",(0,s.jsx)(t.strong,{children:"k3s"})," and ",(0,s.jsx)(t.strong,{children:"k3d"}),", refer to these projects' docs at ",(0,s.jsx)(t.a,{href:"https://docs.k3s.io/",children:"k3s docs"})," and ",(0,s.jsx)(t.a,{href:"https://k3d.io/",children:"k3d docs"}),"."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.strong,{children:["\u26a0\ufe0f"," Please note that the clusters created by ",(0,s.jsx)(t.code,{children:"k3d"})," are not managed by Rancher Desktop GUI."]})})]})}function u(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}function h(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},11151:function(e,t,n){n.d(t,{Z:function(){return c},a:function(){return i}});var s=n(67294);const r={},o=s.createContext(r);function i(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);